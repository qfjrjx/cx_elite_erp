<style>
    #saleCustomerProfile-consult {
        padding: 20px 25px 25px 0;
    }
</style>
<div class="layui-fluid" id="saleCustomerProfile-consult">
    <form class="layui-form" action="" lay-filter="saleCustomerProfile-consult-form">
        <input type="hidden" name="personnelId" id="personnelId"
               autocomplete="off" class="layui-input" readonly>
        <div class="layui-form-item febs-hide">
            <label class="layui-form-label febs-form-item-require">参数id：</label>
            <div class="layui-input-block">
                <input type="text" name="id" data-th-value="${saleCustomerProfile.id}">
            </div>
        </div>
        <div class="layui-tab">
            <ul class="layui-tab-title">
                <li class="layui-this">基本信息</li>
                <li>财税信息</li>
                <li>物流信息</li>
            </ul>
            <div class="layui-tab-content">
                <div class="layui-tab-item layui-show">
                    <div class="layui-form-item">
                        <label class="layui-form-label febs-form-item-require" >业务人员：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="personnelName" id="salePersonnelNames" lay-verify="required"
                                   autocomplete="off" class="layui-input" placeholder="请选择业务人员" readonly>
                        </div>
                        <label class="layui-form-label febs-form-item-require">状&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;态：</label>
                        <div class="layui-input-inline">
                            <select name="customerState" disabled>
                                <option value="1">启用</option>
                                <option value="2">禁用</option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label febs-form-item-require" >客户全称：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="customerFullName" id="customerFullName" lay-verify="required" readonly
                                   autocomplete="off" class="layui-input" placeholder="请输入客户全称">
                        </div>

                        <label class="layui-form-label febs-form-item-require" >客户简称：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="customerAbbreviation" id="customerAbbreviation" lay-verify="required" readonly
                                   autocomplete="off" class="layui-input" placeholder="请输入客户简称">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">单位电话：</label>
                        <div class="layui-input-inline">
                            <input type="tel" name="workTelephone" lay-verify="phone" autocomplete="off" class="layui-input" readonly>
                        </div>
                        <label class="layui-form-label" >单位传真：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="unitFax" id="unitFax"
                                   autocomplete="off" class="layui-input" readonly>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label" >联&nbsp;&nbsp;系&nbsp;&nbsp;人：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="customerContacts" id="customerContacts" readonly
                                   autocomplete="off" class="layui-input" placeholder="">
                        </div>
                        <label class="layui-form-label">联系电话：</label>
                        <div class="layui-input-inline">
                            <input type="tel" name="contactNumber" lay-verify="phone" readonly autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">邮&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;箱：</label>
                        <div class="layui-input-block">
                            <input type="text" name="customerMail" lay-verify="email" maxlength="50" autocomplete="off" readonly
                                   class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label" >单位地址：</label>
                        <div class="layui-input-block">
                            <input type="text" name="unitAddress" id="unitAddress"
                                   autocomplete="off" class="layui-input" readonly>
                        </div>
                    </div>
                    <div class="layui-form-item layui-form-text">
                        <label class="layui-form-label">备&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;注：</label>
                        <div class="layui-input-block">
                            <textarea name="customerRemarks" maxlength="100"  readonly class="layui-textarea"></textarea>
                        </div>
                    </div>
                </div>
                <div class="layui-tab-item">
                    <div class="layui-form-item">
                        <label class="layui-form-label" >
                            开户银行：
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" name="bankOfDeposit"  placeholder="请输入开户银行" readonly
                                   autocomplete="off" class="layui-input">
                        </div>
                        <label class="layui-form-label" >
                            银行账号：
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" name="bankAccount" placeholder="请输入开户银行账号" readonly
                                   autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label" >
                            单位税号：
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" name="unitTaxNo" placeholder="请输入单位税号" readonly
                                   autocomplete="off" class="layui-input">
                        </div>
                        <label class="layui-form-label">开票电话：</label>
                        <div class="layui-input-inline">
                            <input type="tel" name="billingTelephone" readonly lay-verify="phone" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label" >开票地址：</label>
                        <div class="layui-input-block">
                            <input type="text" name="billingAddress" id="billingAddress"
                                   autocomplete="off" class="layui-input" readonly>
                        </div>
                    </div>

                </div>
                <div class="layui-tab-item">
                    <div class="layui-form-item">
                        <label class="layui-form-label" >收&nbsp;货&nbsp;人：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="customerConsignee" id="customerConsignee"
                                   autocomplete="off" class="layui-input" readonly>
                        </div>

                        <label class="layui-form-label">收货电话：</label>
                        <div class="layui-input-inline">
                            <input type="tel" name="receivingTelephone" lay-verify="phone" readonly autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label" >邮政编码：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="postalCode" id="postalCode"
                                   autocomplete="off" class="layui-input" readonly>
                        </div>
                        <label class="layui-form-label" >收货地址：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="receivingAddress" id="receivingAddress"
                                   autocomplete="off" class="layui-input" readonly>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="layui-form-item febs-hide">
            <button class="layui-btn" lay-submit="" lay-filter="saleCustomerProfile-consult-form-submit" id="submit"></button>
            <button type="reset" class="layui-btn" id="reset"></button>
        </div>
    </form>
</div>

<script data-th-inline="javascript">
    layui.use(['febs', 'form', 'xmSelect', 'validate'], function () {
        let $ = layui.$,
            febs = layui.febs,
            layer = layui.layer,
            form = layui.form,
            xmSelect = layui.xmSelect,
            saleCustomerProfile = [[${saleCustomerProfile}]],
            validate = layui.validate;

        form.verify(validate);
        form.render();

        initSaleCustomerProfileValue();

        function initSaleCustomerProfileValue() {
            form.val("saleCustomerProfile-consult-form", {
                "personnelName": saleCustomerProfile.personnelName,
                "customerState": saleCustomerProfile.customerState,
                "customerFullName": saleCustomerProfile.customerFullName,
                "customerAbbreviation": saleCustomerProfile.customerAbbreviation,
                "workTelephone": saleCustomerProfile.workTelephone,
                "unitFax": saleCustomerProfile.unitFax,
                "customerContacts": saleCustomerProfile.customerContacts,
                "contactNumber": saleCustomerProfile.contactNumber,
                "customerMail": saleCustomerProfile.customerMail,
                "unitAddress": saleCustomerProfile.unitAddress,
                "customerRemarks": saleCustomerProfile.customerRemarks,
                "bankOfDeposit": saleCustomerProfile.bankOfDeposit,
                "bankAccount": saleCustomerProfile.bankAccount,
                "unitTaxNo": saleCustomerProfile.unitTaxNo,
                "billingTelephone": saleCustomerProfile.billingTelephone,
                "billingAddress": saleCustomerProfile.billingAddress,
                "customerConsignee": saleCustomerProfile.customerConsignee,
                "receivingTelephone": saleCustomerProfile.receivingTelephone,
                "postalCode": saleCustomerProfile.postalCode,
                "receivingAddress": saleCustomerProfile.receivingAddress
            });
        }

        form.on('submit(saleCustomerProfile-consult-form-submit)', function (data) {

            if (febs.nativeEqual(data.field, saleCustomerProfile)) {
                febs.alert.warn('数据未作任何修改！');
                return true;
            }
            febs.post(ctx + 'saleCustomerProfile/update', data.field, function () {
                layer.closeAll();
                febs.alert.success('数据修改成功');
                $('#febs-saleCustomerProfile').find('#query').click();
            });
            return false;
        });
    });
    function dblclickPersonnelNames(){
        layui.use(['febs', 'form', 'validate', 'xmSelect'], function () {
            let $ = layui.$,
                febs = layui.febs;

            febs.modal.open('业务人员信息', 'sale/saleCustomerPersonnelList', {
                area:["75%","90%"],
                yes: function (index, layero) {

                }

            });
        });
    }
</script>
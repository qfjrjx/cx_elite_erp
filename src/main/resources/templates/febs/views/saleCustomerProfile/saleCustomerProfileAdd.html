<style>
    #saleCustomerProfile-add {
        padding: 20px 25px 25px 0;
    }
</style>
<div class="layui-fluid" id="saleCustomerProfile-add">
    <form class="layui-form" action="" lay-filter="saleCustomerProfile-add-form">
        <input type="hidden" name="personnelId" id="personnelId"
               autocomplete="off" class="layui-input" readonly>
        <div class="layui-tab">
            <ul class="layui-tab-title">
                <li class="layui-this">基本信息</li>
                <li>财税信息</li>
                <li>物流信息</li>
            </ul>
            <div class="layui-tab-content">
                <div class="layui-tab-item layui-show">
                    <div class="layui-form-item">
                        <label class="layui-form-label febs-form-item-require" >业务人员：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="personnelName" id="salePersonnelName" lay-verify="required" ondblclick="dblclickPersonnelName()"
                                   autocomplete="off" class="layui-input" placeholder="请选择业务人员" readonly>
                        </div>
                        <label class="layui-form-label febs-form-item-require">状&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;态：</label>
                        <div class="layui-input-inline">
                            <select name="customerState" >
                                <option value="1">启用</option>
                                <option value="2">禁用</option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label febs-form-item-require" >客户全称：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="customerFullName" id="customerFullName" lay-verify="required"
                                   autocomplete="off" class="layui-input" placeholder="请输入客户全称">
                        </div>

                        <label class="layui-form-label febs-form-item-require" >客户简称：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="customerAbbreviation" id="customerAbbreviation" lay-verify="required"
                                   autocomplete="off" class="layui-input" placeholder="请输入客户简称">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">单位电话：</label>
                        <div class="layui-input-inline">
                            <input type="tel" name="workTelephone" lay-verify="phone" autocomplete="off" class="layui-input">
                        </div>
                        <label class="layui-form-label" >单位传真：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="unitFax" id="unitFax"
                                   autocomplete="off" class="layui-input" placeholder="">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label" >联&nbsp;&nbsp;系&nbsp;&nbsp;人：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="customerContacts" id="customerContacts"
                                   autocomplete="off" class="layui-input" placeholder="">
                        </div>
                        <label class="layui-form-label">联系电话：</label>
                        <div class="layui-input-inline">
                            <input type="tel" name="contactNumber" lay-verify="phone" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">邮&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;箱：</label>
                        <div class="layui-input-block">
                            <input type="text" name="customerMail" lay-verify="email" maxlength="50" autocomplete="off"
                                   class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label" >单位地址：</label>
                        <div class="layui-input-block">
                            <input type="text" name="unitAddress" id="unitAddress"
                                   autocomplete="off" class="layui-input" placeholder="">
                        </div>
                    </div>
                    <div class="layui-form-item layui-form-text">
                        <label class="layui-form-label">备&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;注：</label>
                        <div class="layui-input-block">
                            <textarea name="customerRemarks" maxlength="100" class="layui-textarea"></textarea>
                        </div>
                    </div>
                </div>
                <div class="layui-tab-item">
                    <div class="layui-form-item">
                        <label class="layui-form-label" >
                            开户银行：
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" name="bankOfDeposit"  placeholder="请输入开户银行"
                                   autocomplete="off" class="layui-input">
                        </div>
                        <label class="layui-form-label" >
                            银行账号：
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" name="bankAccount" placeholder="请输入开户银行账号"
                                   autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label" >
                            单位税号：
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" name="unitTaxNo" placeholder="请输入单位税号"
                                   autocomplete="off" class="layui-input">
                        </div>
                        <label class="layui-form-label">开票电话：</label>
                        <div class="layui-input-inline">
                            <input type="tel" name="billingTelephone" lay-verify="phone" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label" >开票地址：</label>
                        <div class="layui-input-block">
                            <input type="text" name="billingAddress" id="billingAddress"
                                   autocomplete="off" class="layui-input" placeholder="">
                        </div>
                    </div>

                </div>
                <div class="layui-tab-item">
                    <div class="layui-form-item">
                        <label class="layui-form-label" >收&nbsp;货&nbsp;人：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="customerConsignee" id="customerConsignee"
                                   autocomplete="off" class="layui-input" placeholder="">
                        </div>

                        <label class="layui-form-label">收货电话：</label>
                        <div class="layui-input-inline">
                            <input type="tel" name="receivingTelephone" lay-verify="phone" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label" >邮政编码：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="postalCode" id="postalCode"
                                   autocomplete="off" class="layui-input" placeholder="">
                        </div>
                        <label class="layui-form-label" >收货地址：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="receivingAddress" id="receivingAddress"
                                   autocomplete="off" class="layui-input" placeholder="">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="layui-form-item febs-hide">
            <button class="layui-btn" lay-submit="" lay-filter="saleCustomerProfile-add-form-submit" id="submit"></button>
            <button type="reset" class="layui-btn" id="reset"></button>
        </div>
    </form>
</div>

<script>
    layui.use(['element','febs', 'form', 'validate', 'xmSelect'], function () {
        let $ = layui.$,
            febs = layui.febs,
            layer = layui.layer,
            element = layui.element,
            form = layui.form,
            validate = layui.validate;

        form.verify(validate);
        form.render();


        form.on('submit(saleCustomerProfile-add-form-submit)', function (data) {
            febs.post(ctx + 'saleCustomerProfile/add', data.field, function () {
                layer.closeAll();
                febs.alert.success('新增客户档案信息成功');
                $('#febs-saleCustomerProfile').find('#query').click();
            });
            return false;

        });

    });

    function dblclickPersonnelName(){
        layui.use(['febs', 'form', 'validate', 'xmSelect'], function () {
            let $ = layui.$,
                febs = layui.febs;

            febs.modal.open('业务人员信息', 'sale/saleCustomerPersonnelList', {
                area:["75%","90%"],
                yes: function (index, layero) {

                }

            });
        });
    }
</script>